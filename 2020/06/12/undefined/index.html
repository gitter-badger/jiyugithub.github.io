



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="Apocalypse's Blog" href="https://jiyugithub.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="Apocalypse's Blog" href="https://jiyugithub.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="Apocalypse's Blog" href="https://jiyugithub.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.1.9">

  


<meta name="description" content="" >


<link rel="canonical" href="https://jiyugithub.github.io/2020/06/12/undefined/">



  <title>
Android目前最稳定和高效的UI适配方案 |
启示录 = Apocalypse's Blog</title>
<meta name="generator" content="Hexo 4.2.1"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">Android目前最稳定和高效的UI适配方案
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2020-06-12 05:53:01">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2020-06-12T05:53:01+08:00">2020-06-12</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">启示录</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicitzannuj20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicitf0kl1j20zk0m87fe.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipevo9j1jj20zk0m8e81.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipewf5l51j20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipew8gmvyj20zk0m87wh.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexw3o58j20zk0m8e81.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main id="main">
      <div class="inner">
        <div id="content" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="https://jiyugithub.github.io/2020/06/12/undefined/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.png">
    <meta itemprop="name" content="Apocalypse">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Apocalypse's Blog">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <p>Android 系统发布十多年以来，关于 Android 的 UI 的适配一直是开发环节中最重要的问题，但是我看到还是有很多小伙伴对 Android 适配方案不了解。刚好，近期准备对糗事百科 Android 客户端设计一套 UI 尺寸适配方案，可以和小伙伴们详细的聊一聊这个问题。</p>
<a id="more"></a>
<p>Android 适配最核心的问题有两个，其一，就是适配的效率，即把设计图转化为 App 界面的过程是否高效，其二如何保证实现 UI 界面在不同尺寸和分辨率的手机中 UI 的一致性。这两个问题都很重要，一个是保证我们开发的高效，一个是保证我们适配的成效；今天我们就这两个核心的问题来聊一聊 Android 的适配方案。</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/13/163f4be45ba74a31?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>首先，大家都知道，在标识尺寸的时候，Android 并不推荐我们使用 px 这个真实像素单位，因为不同的手机之间，分辨率是不同的，比如一个 96*96 像素的控件在分辨率越来越高的手机上会在整体 UI 中看起来越来越小。</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/13/163f4bf39182027e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>出现类似于上图这样这样，整体的布局效果可能会变形，所以 px 这个单位在布局文件中是不推荐的。</p>
<h2 id="dp直接适配"><a class="markdownIt-Anchor" href="#dp直接适配">#</a> dp 直接适配</h2>
<p>针对这种情况，Android 推荐使用 dp 作为尺寸单位来适配 UI.</p>
<p>那么什么是 dp？dp 指的是设备独立像素，以 dp 为尺寸单位的控件，在不同分辨率和尺寸的手机上代表了不同的真实像素，比如在分辨率较低的手机中，可能 1dp=1px, 而在分辨率较高的手机中，可能 1dp=2px，这样的话，一个 96*96dp 的控件，在不同的手机中就能表现出差不多的大小了。那么这个 dp 是如何计算的呢？ 我们都知道一个公式： px = dp (dpi/160) 系统都是通过这个来判断 px 和 dp 的数学关系，</p>
<p>那么这里又出现了一个问题，dpi 是什么呢？</p>
<p>dpi 是像素密度，指的是在<strong>系统软件上指定</strong>的单位尺寸的像素数量，它往往是写在系统出厂配置文件的一个固定值。</p>
<p>我为什么要强调它是软件系统上的概念？因为大家买手机的时候，往往会听到另一个叫 ppi 的参数，这个在手机屏幕中指的也是像素密度，但是这个是物理上的概念，它是客观存在的不会改变。dpi 是软件参考了物理像素密度后，人为指定的一个值，这样保证了某一个区间内的物理像素密度在软件上都使用同一个值。这样会有利于我们的 UI 适配。</p>
<p>比如，几部相同分辨率不同尺寸的手机的 ppi 可能分别是是 430,440,450, 那么在 Android 系统中，可能 dpi 会全部指定为 480. 这样的话，dpi/160 就会是一个相对固定的数值，这样就能保证相同分辨率下不同尺寸的手机表现一致。</p>
<p>而在不同分辨率下，dpi 将会不同，比如：</p>
<table>
<thead>
<tr>
<th>…</th>
<th style="text-align:center">1080*720</th>
<th style="text-align:right">1920*1080</th>
</tr>
</thead>
<tbody>
<tr>
<td>dpi</td>
<td style="text-align:center">320</td>
<td style="text-align:right">480</td>
</tr>
<tr>
<td>dpi/160</td>
<td style="text-align:center">2</td>
<td style="text-align:right">3</td>
</tr>
</tbody>
</table>
<p>根据上面的表格，我们可以发现，720P, 和 1080P 的手机，dpi 是不同的，这也就意味着，不同的分辨率中，1dp 对应不同数量的 px (720P 中，1dp=2px，1080P 中 1dp=3px)，这就实现了，当我们使用 dp 来定义一个控件大小的时候，他在不同的手机里表现出相应大小的像素值。</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/13/163f4d6fe59be47d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>我们可以说，通过 dp 加上自适应布局和 weight 比例布局可以基本解决不同手机上适配的问题，这基本是最原始的 Android 适配方案。</p>
<p>这种方式存在两个小问题，第一，这只能保证我们写出来的界面适配绝大部分手机，部分手机仍然需要单独适配，为什么 dp 只解决了 90% 的适配问题，因为并不是所有的 1080P 的手机 dpi 都是 480，比如 Google 的 Pixel2（1920<em>1080）的 dpi 是 420，也就是说，在 Pixel2 中，1dp=2.625px, 这样会导致相同分辨率的手机中，这样，一个 100dp</em>100dp 的控件，在一般的 1080P 手机上，可能都是 300px, 而 Pixel 2 中 ，就只有 262.5px, 这样控件的实际大小会有所不同。</p>
<p>为了更形象的展示，假设我们在布局文件中把一个 ImageView 的宽度设置为 360dp, 那么在下面两张图中表现是不一样的：</p>
<p>图一是 1080P,480dpi 的手机，图二是 1080P,420dpi 的手机</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/10/163ea44745e200a6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="1080P,480dpi的手机"></p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/10/163ea461ceb490a6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="1080P,420dpi的手机"></p>
<p>从上面的布局中可以看到，同样是 1080P 的手机，差异是比较明显的。在这种情况下，我们的 UI 可能需要做一些微调甚至单独适配。</p>
<p>第二个问题，这种方式无法快速高效的把设计师的设计稿实现到布局代码中，通过 dp 直接适配，我们只能让 UI 基本适配不同的手机，但是在设计图和 UI 代码之间的鸿沟，dp 是无法解决的，因为 dp 不是真实像素。而且，设计稿的宽高往往和 Android 的手机真实宽高差别极大，以我们的设计稿为例，设计稿的宽高是 375px<em>750px，而真实手机可能普遍是 1080</em>1920,</p>
<p>那么在日常开发中我们是怎么跨过这个鸿沟的呢？基本都是通过百分比啊，或者通过估算，或者设定一个规范值等等。总之，当我们拿到设计稿的时候，设计稿的 ImageView 是 128px<em>128px，当我们在编写 layout 文件的时候，却不能直接写成 128dp</em>128dp。在把设计稿向 UI 代码转换的过程中，我们需要耗费相当的精力去转换尺寸，这会极大的降低我们的生产力，拉低开发效率。</p>
<h2 id="宽高限定符适配"><a class="markdownIt-Anchor" href="#宽高限定符适配">#</a> 宽高限定符适配</h2>
<p>为了高效的实现 UI 开发，出现了新的适配方案，我把它称作<strong>宽高限定符适配</strong>。简单说，就是穷举市面上所有的 Android 手机的宽高像素值：</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/12/163f4802fbef23d0?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>设定一个基准的分辨率，其他分辨率都根据这个基准分辨率来计算，在不同的尺寸文件夹内部，根据该尺寸编写对应的 dimens 文件。</p>
<p>比如以 480x320 为基准分辨率</p>
<ul>
<li>宽度为 320，将任何分辨率的宽度整分为 320 份，取值为 x1-x320</li>
<li>高度为 480，将任何分辨率的高度整分为 480 份，取值为 y1-y480</li>
</ul>
<p>那么对于 800*480 的分辨率的 dimens 文件来说，</p>
<p>x1=(480/320)*1=1.5px</p>
<p>x2=(480/320)*2=3px</p>
<p>…</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/13/163f4f9e227a1bb4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>这个时候，如果我们的 UI 设计界面使用的就是基准分辨率，那么我们就可以按照设计稿上的尺寸填写相对应的 dimens 引用了，而当 APP 运行在不同分辨率的手机中时，这些系统会根据这些 dimens 引用去该分辨率的文件夹下面寻找对应的值。这样基本解决了我们的适配问题，而且极大的提升了我们 UI 开发的效率，</p>
<p>但是这个方案有一个致命的缺陷，那就是需要精准命中才能适配，比如 1920x1080 的手机就一定要找到 1920x1080 的限定符，否则就只能用统一的默认的 dimens 文件了。而使用默认的尺寸的话，UI 就很可能变形，简单说，就是容错机制很差。</p>
<p>不过这个方案有一些团队用过，我们可以认为它是一个比较成熟有效的方案了。</p>
<h2 id="ui适配框架已经停止维护"><a class="markdownIt-Anchor" href="#ui适配框架已经停止维护">#</a> UI 适配框架（已经停止维护）</h2>
<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hvbmd5YW5nQW5kcm9pZC9BbmRyb2lkQXV0b0xheW91dA==">鸿洋大佬的适配方案</span>的项目也来自于宽高限定符方案的启发。</p>
<p>使用方法也很简单：</p>
<p>第一步： 在你的项目的 AndroidManifest 中注明你的设计稿的尺寸。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta-data android:name&#x3D;&quot;design_width&quot; android:value&#x3D;&quot;768&quot;&gt;</span><br><span class="line">&lt;&#x2F;meta-data&gt;</span><br><span class="line">&lt;meta-data android:name&#x3D;&quot;design_height&quot; android:value&#x3D;&quot;1280&quot;&gt;</span><br><span class="line">&lt;&#x2F;meta-data&gt;</span><br></pre></td></tr></table></figure>
<p>第二步： 让你的 Activity 继承自 AutoLayoutActivity.</p>
<p>然后我们就可以直接在布局文件里面使用具体的像素值了，比如，设计稿上是 96*96, 那么我们可以直接写 96px，APP 运行时，框架会帮助我们根据不同手机的具体尺寸按比例伸缩。</p>
<p>这可以说是一个极好的方案，因为它在宽高限定符适配的基础上更进一步，并且解决了容错机制的问题，可以说完美的达成了开发高效和适配精准的两个要求。</p>
<p>但是我们能够想到，因为框架要在运行时会在 onMeasure 里面做变换，我们自定义的控件可能会被影响或限制，可能有些特定的控件，需要单独适配，这里面可能存在的暗坑是不可预见的，还有一个比较重要的问题，那就是整个适配工作是有框架完成的，而不是系统完成的，一旦使用这个框架，未来一旦遇到很难解决的问题，替换起来是非常麻烦的，而且项目一旦停止维护，后续的升级就只能靠你自己了，这种代价团队能否承受？当然，它已经停止维护了。</p>
<p>不过仅仅就技术方案而言，不可否认，这是一个很好的开源项目。</p>
<h2 id="小结"><a class="markdownIt-Anchor" href="#小结">#</a> 小结</h2>
<p>讨论的上述几种适配方案都是可以实际用于开发中的比较成熟的方案，而且确实有很多开发者正在使用。不过由于他们各自都存在一些缺陷，所以我们使用了上述方案后还需要花费额外的精力着手解决这些可能存在的缺陷。</p>
<p>那么，是否存在一种相对比较完美，没有明显的缺陷的方案呢？</p>
<h2 id="smallestwidth适配"><a class="markdownIt-Anchor" href="#smallestwidth适配">#</a> smallestWidth 适配</h2>
<p>smallestWidth 适配，或者叫 sw 限定符适配。指的是 Android 会识别<strong>屏幕可用高度和宽度的最小尺寸</strong>的 dp 值（其实就是手机的宽度值），然后根据识别到的结果去资源文件中寻找对应限定符的文件夹下的资源文件。</p>
<p>这种机制和上文提到的宽高限定符适配原理上是一样的，都是系统通过特定的规则来选择对应的文件。</p>
<p>举个例子，小米 5 的 dpi 是 480, 横向像素是 1080px，根据 px=dp (dpi/160)，横向的 dp 值是 1080/(480/160), 也就是 360dp, 系统就会去寻找是否存在 value-sw360dp 的文件夹以及对应的资源文件。</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/11/163ea6e3fcb3a835?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>smallestWidth 限定符适配和宽高限定符适配最大的区别在于，前者有很好的容错机制，如果没有 value-sw360dp 文件夹，系统会向下寻找，比如离 360dp 最近的只有 value-sw350dp，那么 Android 就会选择 value-sw350dp 文件夹下面的资源文件。这个特性就完美的解决了上文提到的宽高限定符的容错问题。</p>
<p>这套方案是上述几种方案中最接近完美的方案。 首先，<strong>从开发效率上，它不逊色于上述任意一种方案</strong>。根据固定的放缩比例，我们基本可以按照 UI 设计的尺寸不假思索的填写对应的 dimens 引用。 我们还有以 375 个像素宽度的设计稿为例，在 values-sw360dp 文件夹下的 diemns 文件应该怎么编写呢？这个文件夹下，意味着手机的最小宽度的 dp 值是 360，我们把 360dp 等分成 375 等份，每一个设计稿中的像素，大概代表 smallestWidth 值为 360dp 的手机中的 0.96dp，那么接下来的事情就很简单了，假如设计稿上出现了一个 10px*10px 的 ImageView, 那么，我们就可以不假思索的在 layout 文件中写下对应的尺寸。</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/13/163f9dfd9ba47a62?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>而这种 diemns 引用，在不同的 values-sw<N>dp 文件夹下的数值是不同的，比如 values-sw360dp 和 values-sw400dp,</p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/12/163f45e3e95e2650?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p><img data-src="http://user-gold-cdn.xitu.io/2018/6/14/163f9e36163d741c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>当系统识别到手机的 smallestWidth 值时，就会自动去寻找和目标数据最近的资源文件的尺寸。</p>
<p>其次，从稳定性上，它也优于上述方案。原生的 dp 适配可能会碰到 Pixel 2 这种有些特别的手机需要单独适配，但是在 smallestWidth 适配中，通过计算 Pixel 2 手机的的 smallestWidth 的值是 411，我们只需要生成一个 values-sw411dp (或者取整生成 values-sw410dp 也没问题) 就能解决问题。</p>
<p>smallestWidth 的适配机制由系统保证，我们只需要针对这套规则生成对应的资源文件即可，不会出现什么难以解决的问题，也根本不会影响我们的业务逻辑代码，而且只要我们生成的资源文件分布合理，，即使对应的 smallestWidth 值没有找到完全对应的资源文件，它也能向下兼容，寻找最接近的资源文件。</p>
<p>当然，smallestWidth 适配方案有一个小问题，那就是它是在 Android 3.2 以后引入的，Google 的本意是用它来适配平板的布局文件（但是实际上显然用于 diemns 适配的效果更好），不过目前所有的项目应该最低支持版本应该都是 4.0 了（糗事百科这么老的项目最低都是 4.0 哦），所以，这问题其实也不重要了。</p>
<p>评论中还说到了一个缺陷我忘了提，那就是多个 dimens 文件可能导致 apk 变大，这是事实，根据生成的 dimens 文件的覆盖范围和尺寸范围，apk 可能会增大 300kb-800kb 左右，目前糗百的 dimens 文件大小是 406kb，我认为这是可以接受的。</p>
<h2 id="今日头条适配方案更新"><a class="markdownIt-Anchor" href="#今日头条适配方案更新">#</a> 今日头条适配方案（更新）</h2>
<p><span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvZDlRQ29CUDZrVjlWU1d2VmxkVlZ3QQ==">文章链接</span>，之前确实没有接触过，我简单看了一遍，可以说，这也是相对比较完美的方案，我先简单说一下这个方案的思路，它是通过修改 density 值，强行把所有不同尺寸分辨率的手机的宽度 dp 值改成一个统一的值，这样就解决了所有的适配问题。</p>
<p>比如，设计稿宽度是 360px，那么开发这边就会把目标 dp 值设为 360dp，在不同的设备中，动态修改 density 值，从而保证 (手机像素宽度) px/density 这个值始终是 360dp, 这样的话，就能保证 UI 在不同的设备上表现一致了。</p>
<p>这个方案侵入性很低，而且也没有涉及私有 API，应该也是极不错的方案，我暂时也想不到强行修改 density 是否会有其他影响，既然有今日头条的大厂在用，稳定性应当是有保证的。</p>
<p>但是根据我的观察，这套方案<strong>对老项目是不太友好的</strong>，因为修改了系统的 density 值之后，整个布局的实际尺寸都会发生改变，如果想要在老项目文件中使用，恐怕整个布局文件中的尺寸都可能要重新按照设计稿修改一遍才行。因此，如果你是在维护或者改造老项目，使用这套方案就要三思了。</p>
<h2 id="福利赠送"><a class="markdownIt-Anchor" href="#福利赠送">#</a> 福利赠送</h2>
<p>生成 diemns 文件的过程以及数据计算方法上面已经讲清楚了，大家完全可以自己去生成这些文件，我在这里附赠生成 values-sw 的项目代码，大家直接拿去用，是 Java 工程。<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xhZGluZ3d1L2RpbWVuc19zdw==">点击这里获取项目地址</span></p>
<h2 id="关于一些问题"><a class="markdownIt-Anchor" href="#关于一些问题">#</a> 关于一些问题</h2>
<p>Q: 该适配方案怎么用？</p>
<p>A: 点击进入上文的 github 项目，下载到本地，然后运行该 Java 工程，会在本地根目录下生成相应的文件，如果需要生成更多尺寸，在 DimenTypes 文件中填写你需要的尺寸即可。</p>
<p>Q： 是否有推荐的尺寸？</p>
<p>A 300,320,360,390,411，450，这几个尺寸是比较必要的，然后在其中插入一些其他的尺寸即可，如果不放心，可以在 300-450 之间，以 10 为步长生成十几个文件就 OK 了。</p>
<p>Q: 平板适配的问题？</p>
<p>A: 这个可以分成两个问题，第一，团队有没有专门针对平板设计 UI? 第二，才是如何对平板适配。如果团队内部没有针对平板设计 UI, 那么大家对于 App 在平板上运行的要求大抵也就是不要太难看即可。针对这种情况的适配方法是被动适配，即不要生成 480 以上的适配文件，这样在平板上，系统就会使用 480 这个尺寸的 dimens 文件，这样效果比主动适配更好；而如果团队主动设计了平板的 UI，那么我们就需要主动生成平板的适配文件，大概在 600-800 之间，关键尺寸是 640,768。然后按照 UI 设计的图来写即可。</p>
<p>Q：用了这套方案是否就不需要使用 wrap_content 等来布局了？</p>
<p>A: 这是绝对错误的做法！如果 UI 设计上明显更适合使用 wrap_content,match_parent,layout_weight 等，我们就要毫不犹豫的使用，而且在高这个维度上，我们要依照情况设计为可滑动的方式，或者 match_parent, 尽量不要写死。总之，<strong>所有的适配方案都不是用来取代 match_parent,wrap_content 的，而是用来完善他们的</strong>。</p>

  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2020-06-14 04:40:29" itemprop="dateModified" datetime="2020-06-14T04:40:29+08:00">2020-06-14</time>
  </span>
  <span id="2020/06/12/undefined/" class="item leancloud_visitors" data-flag-title="Android目前最稳定和高效的UI适配方案" title="Views">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">Views</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">times</span>
  </span>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>Post author:  </strong>Apocalypse <i class="ic i-at"><em>@</em></i>Apocalypse's Blog
  </li>
  <li class="link">
    <strong>Post link: </strong>
    <a href="https://jiyugithub.github.io/2020/06/12/undefined/" title="Android目前最稳定和高效的UI适配方案">https://jiyugithub.github.io/2020/06/12/undefined/</a>
  </li>
  <li class="license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="nav">
    <div class="item left">
      

  <a href="/2020/06/12/javafs/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclgi503lj20zk0m8hdt.jpg" title="Java反射真的很慢吗">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Java反射真的很慢吗</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2020/06/12/socket/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeyvx1d4j20zk0m8hdt.jpg" title="手把手教你写Socket长连接">
  <span class="type">Next Post</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>手把手教你写Socket长连接</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments" data-id="2020/06/12/undefined/"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#dp直接适配"><span class="toc-number">1.</span> <span class="toc-text"> dp 直接适配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#宽高限定符适配"><span class="toc-number">2.</span> <span class="toc-text"> 宽高限定符适配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ui适配框架已经停止维护"><span class="toc-number">3.</span> <span class="toc-text"> UI 适配框架（已经停止维护）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结"><span class="toc-number">4.</span> <span class="toc-text"> 小结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#smallestwidth适配"><span class="toc-number">5.</span> <span class="toc-text"> smallestWidth 适配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#今日头条适配方案更新"><span class="toc-number">6.</span> <span class="toc-text"> 今日头条适配方案（更新）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#福利赠送"><span class="toc-number">7.</span> <span class="toc-text"> 福利赠送</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于一些问题"><span class="toc-number">8.</span> <span class="toc-text"> 关于一些问题</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="Related">
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="Apocalypse"
      data-src="/images/avatar.png">
  <p class="name" itemprop="name">Apocalypse</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">37</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">2</span>
        <span class="name">categories</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">2</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL2ppeXVnaXRodWI=" title="https:&#x2F;&#x2F;github.com&#x2F;jiyugithub"><i class="ic i-github"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>

        
  <li class="item dropdown">
    <a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a>
  </li>

  </ul>

</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2020/06/12/javafs/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2020/06/12/socket/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>Random Posts</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/12/blog/" title="如何快速搭建好看的个人博客">如何快速搭建好看的个人博客</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/12/Rxjava/" title="Rxjava只看这一篇文章就够了">Rxjava只看这一篇文章就够了</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/12/socket/" title="手把手教你写Socket长连接">手把手教你写Socket长连接</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/08/03/uinm/" title="这15个Android开源库，只有经常逛Github的才知道！">这15个Android开源库，只有经常逛Github的才知道！</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/09/handler/" title="Handler 机制">Handler 机制</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/12/typescript/" title="TypeScript泛型及应用">TypeScript泛型及应用</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/14/KotlinJava/" title="Kotlin与Java的异同">Kotlin与Java的异同</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/08/31/fenql/" title="Android 10(Q)&#x2F;11(R) 分区存储适配">Android 10(Q)/11(R) 分区存储适配</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/16/100js/" title="100 行 js 代码下载抖音无水印视频">100 行 js 代码下载抖音无水印视频</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2020/06/12/hashmap/" title="HashMap原理技术知识整理">HashMap原理技术知识整理</a></span>
  </li>

  </ul>
</div>
<div id="rcomment">
  <h2>Recent Comments</h2>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2020</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Apocalypse @ 启示录</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: 'https://jiyugithub.github.io/2020/06/12/undefined/',
    favicon: {
      show: "（●´3｀●）",
      hide: "(´Д｀)"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,copyright: 'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return uri === LOCAL.path;
      }
    ]
  };
</script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/velocity-animate@1.5.2/velocity.min.js,npm/velocity-animate@1.5.2/velocity.ui.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js,npm/leancloud-storage@3/dist/av-min.js"></script>

<script src="/js/app.js?v=0.1.9"></script>




</body>
</html>
